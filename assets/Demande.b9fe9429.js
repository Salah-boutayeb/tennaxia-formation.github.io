import{T as p}from"./TimeFormater.7fba339f.js";import{D as g,E as y,r as n,B as x,e as D,a as i,o as C,c as w,b as l,d as a,m as U}from"./index.c68dd7c5.js";const B={className:"grid"},j={className:"col-12"},T={class:"card p-fluid"},I=l("h3",null,"Demande",-1),k={class:"field grid"},N=l("label",{for:"name3",class:"col-12 mb-2 md:col-4 md:mb-0"},"Intitul\xE9",-1),F={class:"col-12 md:col-8"},S={class:"field grid"},L=l("label",{for:"email3",class:"col-12 mb-2 md:col-4 md:mb-0"},"Type",-1),P={class:"col-12 md:col-8"},q={class:"field grid"},E=l("label",{for:"name3",class:"col-12 mb-2 md:col-4 md:mb-0"},"D\xE9but de la formation",-1),R={class:"col-12 md:col-8"},z={class:"field grid"},A=l("label",{for:"email3",class:"col-12 mb-2 md:col-4 md:mb-0"},"Fin de la formation",-1),M={class:"col-12 md:col-8"},O={class:"field grid"},$=l("label",{for:"name3",class:"col-12 mb-2 md:col-4 md:mb-0"},"Domaines de comp\xE9tences",-1),G={class:"col-12 md:col-8"},H={class:"field grid"},J=l("label",{for:"email3",class:"col-12 mb-2 md:col-4 md:mb-0"},"Commanditaire mission",-1),K={class:"col-12 md:col-8"},Q={class:"field grid"},W=l("label",{for:"name3",class:"col-12 mb-2 md:col-4 md:mb-0"},"Documents",-1),X={class:"col-12 md:col-8"},Y={class:"p-fluid formgrid grid"},Z={class:"field col-12 md:col-4"},ee=l("label",{for:"firstname2"},"Dur\xE9e :",-1),le={class:"field col-12 md:col-4"},te=l("label",{for:"lastname2"},"Budget :",-1),oe={class:"field col-12 md:col-4"},se=l("label",{for:"lastname2"},"Nombre de participants :",-1),ae={class:"field col-12"},de=l("label",{for:"address"},"Profil ",-1),ne={class:"field col-12"},ie=l("label",{for:"address"},"Objectif",-1),ce={class:"field col-12"},me=l("label",{for:"city"},"L'adresse",-1),ue={class:"flex flex-wrap align-items-center justify-content-center"},ve={__name:"Demande",setup(re){const c=g(),_=y();n([]);const f=n([]),e=n({intitule:"une formation en cybersecurite",type:"type 1",domaines_competences:"Cryptologie,IT,s\xE9curit\xE9 syst\xE9me,",date_debut:"2023-04-24 03:49:47",date_fin:"2023-04-26 03:49:47",client_id:1,gestionnaire_id:1,duree:3,budget:6e3,nbr_participants:34,adresse:"maroc",profils_participants:"Responsable de la S\xE9curit\xE9 des Syst\xE8mes d\u2019Information,Chef s\xE9curit\xE9 de projet, Architecte s\xE9curit\xE9",objectif:"L objectif de la cybers\xE9curit\xE9 est de limiter les risques et de prot\xE9ger le parc informatique d assaillants aux intentions malveillantes.",file:""});n(null),n([]),n(null);const v=x(()=>c.state.clients);n(null),D(()=>{c.dispatch("allClients")}),(s=>{f.value=s.split(",")})(e.value.domaines_competences);const b=s=>{e.value.file=s[0]},V=()=>{let s=new FormData;s.append("file",e.value.file),s.append("intitule",e.value.intitule),s.append("adresse",e.value.adresse),s.append("budget",e.value.budget),s.append("client_id",e.value.client.id),s.append("date_debut",p.formatDate(e.value.date_debut)),s.append("date_fin",p.formatDate(e.value.date_fin)),s.append("domaines_competences",e.value.domaines_competences),s.append("gestionnaire_id",e.value.gestionnaire_id),s.append("type",e.value.type),s.append("objectif",e.value.objectif),s.append("duree",e.value.duree),s.append("profils_participants",e.value.profils_participants),s.append("nbr_participants",e.value.nbr_participants),console.log(e.value),e.value={},c.dispatch("saveDemande",s).then(t=>{_.push(`/step1/${t.id}`)}).catch(()=>{})};return(s,t)=>{const d=i("InputText"),m=i("Calendar"),h=i("Dropdown"),u=i("Textarea"),r=i("Button");return C(),w("div",B,[l("div",j,[l("div",T,[I,l("div",k,[N,l("div",F,[a(d,{id:"name3",type:"text",modelValue:e.value.intitule,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.intitule=o)},null,8,["modelValue"])])]),l("div",S,[L,l("div",P,[a(d,{id:"email3",type:"text",modelValue:e.value.type,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.type=o)},null,8,["modelValue"])])]),l("div",q,[E,l("div",R,[a(m,{showIcon:!0,showButtonBar:!0,modelValue:e.value.date_debut,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.date_debut=o)},null,8,["modelValue"])])]),l("div",z,[A,l("div",M,[a(m,{showIcon:!0,showButtonBar:!0,modelValue:e.value.date_fin,"onUpdate:modelValue":t[3]||(t[3]=o=>e.value.date_fin=o)},null,8,["modelValue"])])]),l("div",O,[$,l("div",G,[a(d,{type:"text",name:"domaines_competences",modelValue:e.value.domaines_competences,"onUpdate:modelValue":t[4]||(t[4]=o=>e.value.domaines_competences=o)},null,8,["modelValue"])])]),l("div",H,[J,l("div",K,[a(h,{modelValue:e.value.client,"onUpdate:modelValue":t[5]||(t[5]=o=>e.value.client=o),options:U(v),optionLabel:"nomComplet",placeholder:"Choisissez le commanditaire"},null,8,["modelValue","options"])])]),l("div",Q,[W,l("div",X,[l("input",{type:"file",name:"contrat",onChange:t[6]||(t[6]=o=>b(o.target.files)),id:"contart"},null,32)])]),l("div",Y,[l("div",Z,[ee,a(d,{id:"firstname2",type:"text",modelValue:e.value.duree,"onUpdate:modelValue":t[7]||(t[7]=o=>e.value.duree=o)},null,8,["modelValue"])]),l("div",le,[te,a(d,{id:"lastname2",type:"text",modelValue:e.value.budget,"onUpdate:modelValue":t[8]||(t[8]=o=>e.value.budget=o)},null,8,["modelValue"])]),l("div",oe,[se,a(d,{id:"lastname2",type:"text",modelValue:e.value.nbr_participants,"onUpdate:modelValue":t[9]||(t[9]=o=>e.value.nbr_participants=o)},null,8,["modelValue"])]),l("div",ae,[de,a(u,{id:"address",rows:"4",modelValue:e.value.profils_participants,"onUpdate:modelValue":t[10]||(t[10]=o=>e.value.profils_participants=o)},null,8,["modelValue"])]),l("div",ne,[ie,a(u,{id:"address",rows:"4",modelValue:e.value.objectif,"onUpdate:modelValue":t[11]||(t[11]=o=>e.value.objectif=o)},null,8,["modelValue"])]),l("div",ce,[me,a(d,{id:"city",type:"text",modelValue:e.value.adresse,"onUpdate:modelValue":t[12]||(t[12]=o=>e.value.adresse=o)},null,8,["modelValue"])])]),l("div",ue,[a(r,{label:"Sauvgarder",icon:"pi pi-bookmark",iconPos:"right",onClick:V,class:"p-button-secondary mr-2 mb-2 w-11rem"}),a(r,{label:"Transmettre",icon:"pi pi-send",iconPos:"right",class:"p-button-primary mr-2 mb-2 w-11rem"})])])])])}}};export{ve as default};
